<ion-header>
  <ion-toolbar>
    <ion-title>chat</ion-title>
    <ion-buttons slot="primary">
      <rd-profile></rd-profile>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content #chatContent>
  <div>
    <ion-list lines="none">
      
      <ion-item *ngFor = "let item of dinnerMessages" text-wrap>
        <div *ngIf="item.sentby != user.name" class="message">
          <ion-avatar> <img [src]="user.profile_photo"></ion-avatar>
          <div class="bubble">
            {{item.message}}
          <div class="corner"></div>
          <span>{{item.timeofmsg}}</span>
        </div>
      </div>

        <div *ngIf="item.sentby === user.name" class="message right">
           <ion-avatar> <img [src]="user.profile_photo"></ion-avatar>
           <ion-avatar *ngIf="profileService.getPartner()" class="avatar-partner">
            <img [src]="profileService.getPartner().profile_photo">
          </ion-avatar>
            <div class="bubble">
            {{item.message}}
          <div class="corner"></div>
          <span>{{item.timeofmsg}}</span>
        </div>
      </div>

      </ion-item>
    </ion-list>
  </div>

  </ion-content>
  <ion-footer>
    <form >
    <ion-toolbar >
      <ion-input [(ngModel)]="newMsgText" name= "newmessage" class="newmsg" placeholder="Write your message ..." #newmsg (keyup.enter)="sendMsg()"></ion-input>
      <ion-button (click)="sendMsg()" [hidden]="!newMsgText" class="footer-button">
        <ion-icon  name="send-outline" slot="icon-only"></ion-icon>
      </ion-button>
     </ion-toolbar>
   </form>
</ion-footer>