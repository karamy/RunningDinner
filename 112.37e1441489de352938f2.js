(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{zwlN:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=function(){return function(){}}(),i=e("pMnS"),r=e("MKJQ"),o=e("jy/b"),d=e("ZYCi"),a=e("Ip0R"),c=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),f=t["ɵcrt"]({encapsulation:0,styles:[["ion-card[_ngcontent-%COMP%]{background-color:#9cc7ae}"]],data:{}});function s(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,9,"ion-card",[],null,null,null,r.V,r.f)),t["ɵdid"](1,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](2,0,null,0,4,"ion-card-header",[],null,null,null,r.T,r.h)),t["ɵdid"](3,49152,null,0,o.n,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](4,0,null,0,2,"ion-card-title",[],null,null,null,r.U,r.i)),t["ɵdid"](5,49152,null,0,o.p,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵted"](6,0,["",""])),(n()(),t["ɵeld"](7,0,null,0,2,"ion-card-content",[],null,null,null,r.S,r.g)),t["ɵdid"](8,49152,null,0,o.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵted"](9,0,[" "," "]))],null,(function(n,l){var e=l.component;n(l,6,0,e.dinner.title),n(l,9,0,e.dinner.description)}))}var g=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),m=t["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function p(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,9,"ion-card",[],null,null,null,r.V,r.f)),t["ɵdid"](1,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](2,0,null,0,4,"ion-card-header",[],null,null,null,r.T,r.h)),t["ɵdid"](3,49152,null,0,o.n,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](4,0,null,0,2,"ion-card-title",[],null,null,null,r.U,r.i)),t["ɵdid"](5,49152,null,0,o.p,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵted"](6,0,["",""])),(n()(),t["ɵeld"](7,0,null,0,2,"ion-card-content",[],null,null,null,r.S,r.g)),t["ɵdid"](8,49152,null,0,o.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵted"](9,0,[" "," "]))],null,(function(n,l){var e=l.component;n(l,6,0,e.dinner.title),n(l,9,0,e.dinner.description)}))}var h=e("L0Zc"),R=e("9B5/"),v=e("yzu5"),D=e("rrMi"),b=e("98RE"),C=e("0+Dt"),y=function(){function n(n,l,e,t,u,i){this.paramsService=n,this.dinnersService=l,this.profileService=e,this.router=t,this.notificationsService=u,this.ref=i}return n.prototype.ngOnInit=function(){var n=this;this.loadDinners(),this.profileService.readPartner(),this.notificationsService.getUpdateParamsObservable().subscribe((function(){console.log("Elenco cene - Ricarico cene"),n.loadDinners()}))},n.prototype.loadDinners=function(n){var l=this;this.dinnersService.getDinners().then((function(e){if(console.log(e),l.myDinner=e.myDinner,l.dinnerList=e.otherDinners,l.myDinner){var t=l.dinnersService.formatDate(l.myDinner.date);l.myDinner.dateString=t[0],l.myDinner.time=Number(t[1])}for(var u=0;u<l.dinnerList.length;u++){var i=l.dinnersService.formatDate(l.dinnerList[u].date);l.dinnerList[u].dateString=i[0],l.dinnerList[u].time=Number(i[1])}n&&n.target.complete(),l.ref.detectChanges()}),(function(n){console.warn(n)}))},n.prototype.goToDinnerDetail=function(n){var l=this;this.dinnersService.getDinnerState(n.id).then((function(e){var t=e.dinner_state;console.log("Dinner State: "+t),1===t&&!0===n.groupIds.includes(l.paramsService.getParams().groupId)?l.router.navigate(["/home/tabs/dinners/dinner-event"],{queryParams:n}):2!==t&&3!==t&&4!==t||!0!==n.groupIds.includes(l.paramsService.getParams().groupId)?5===t&&!0===n.groupIds.includes(l.paramsService.getParams().groupId)?l.router.navigate(["/home/tabs/dinners/dinner-votes"],{queryParams:n}):0===t&&l.router.navigate(["/home/tabs/dinners/dinner-detail"],{queryParams:n}):l.router.navigate(["/home/tabs/dinners/dinner-phases"],{queryParams:n})}))},n}(),N=t["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function I(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,5,"ion-button",[["routerLink","/home/tabs/dinners/create-dinner"]],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t["ɵnov"](n,2).onClick()&&u),"click"===l&&(u=!1!==t["ɵnov"](n,3).onClick(e)&&u),u}),r.Q,r.d)),t["ɵdid"](1,49152,null,0,o.j,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),t["ɵdid"](2,16384,null,0,d.o,[d.n,d.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["ɵdid"](3,737280,null,0,o.Hb,[a.LocationStrategy,o.Eb,t.ElementRef,d.n,[2,d.o]],null,null),(n()(),t["ɵeld"](4,0,null,0,1,"ion-icon",[["name","add"],["slot","icon-only"]],null,null,null,r.cb,r.p)),t["ɵdid"](5,49152,null,0,o.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],(function(n,l){n(l,2,0,"/home/tabs/dinners/create-dinner"),n(l,3,0),n(l,5,0,"add")}),null)}function E(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,2,"ion-card",[],null,null,null,r.V,r.f)),t["ɵdid"](2,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵted"](-1,0,[" Scegli la tua prossima RunningDinner :D! "]))],null,null)}function S(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,1,"rd-my-dinner",[],null,[[null,"click"]],(function(n,l,e){var t=!0,u=n.component;return"click"===l&&(t=!1!==u.goToDinnerDetail(u.myDinner)&&t),t}),s,f)),t["ɵdid"](2,114688,null,0,c,[],{dinner:[0,"dinner"]},null)],(function(n,l){n(l,2,0,l.component.myDinner)}),null)}function Z(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"div",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.goToDinnerDetail(n.context.$implicit)&&t),t}),null,null)),(n()(),t["ɵeld"](1,0,null,null,1,"rd-dinner",[],null,null,null,p,m)),t["ɵdid"](2,114688,null,0,g,[],{dinner:[0,"dinner"]},null)],(function(n,l){n(l,2,0,l.context.$implicit)}),null)}function P(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,"ion-list",[],null,null,null,r.lb,r.y)),t["ɵdid"](1,49152,null,0,o.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵand"](16777216,null,0,1,null,Z)),t["ɵdid"](3,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,3,0,l.component.dinnerList)}),null)}function L(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,2,"ion-card",[],null,null,null,r.V,r.f)),t["ɵdid"](2,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵted"](-1,0,[" Non sono presenti cene a cui partecipare =( "]))],null,null)}function k(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,12,"ion-header",[],null,null,null,r.bb,r.o)),t["ɵdid"](1,49152,null,0,o.A,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](2,0,null,0,10,"ion-toolbar",[],null,null,null,r.zb,r.M)),t["ɵdid"](3,49152,null,0,o.yb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](4,0,null,0,2,"ion-title",[],null,null,null,r.yb,r.L)),t["ɵdid"](5,49152,null,0,o.wb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵted"](-1,0,["Elenco Cene"])),(n()(),t["ɵeld"](7,0,null,0,5,"ion-buttons",[["slot","primary"]],null,null,null,r.R,r.e)),t["ɵdid"](8,49152,null,0,o.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](9,0,null,0,1,"rd-profile",[],null,null,null,h.b,h.a)),t["ɵdid"](10,114688,null,0,R.a,[v.a],null,null),(n()(),t["ɵand"](16777216,null,0,1,null,I)),t["ɵdid"](12,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](13,0,null,null,13,"ion-content",[["class","padding"]],null,null,null,r.X,r.k)),t["ɵdid"](14,49152,null,0,o.t,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](15,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,l,e){var t=!0;return"ionRefresh"===l&&(t=!1!==n.component.loadDinners(e)&&t),t}),r.nb,r.z)),t["ɵdid"](16,49152,null,0,o.Z,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](17,0,null,0,1,"ion-refresher-content",[["pullingIcon","lines"],["refreshingSpinner","lines"]],null,null,null,r.mb,r.A)),t["ɵdid"](18,49152,null,0,o.ab,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{pullingIcon:[0,"pullingIcon"],refreshingSpinner:[1,"refreshingSpinner"]},null),(n()(),t["ɵand"](16777216,null,0,1,null,E)),t["ɵdid"](20,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵand"](16777216,null,0,1,null,S)),t["ɵdid"](22,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵand"](16777216,null,0,1,null,P)),t["ɵdid"](24,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵand"](16777216,null,0,1,null,L)),t["ɵdid"](26,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,10,0),n(l,12,0,e.paramsService.getParams().groupId&&!e.paramsService.getParams().dinnerId),n(l,18,0,"lines","lines"),n(l,20,0,!e.myDinner),n(l,22,0,e.myDinner),n(l,24,0,e.dinnerList&&e.dinnerList.length>0),n(l,26,0,!(e.myDinner||e.dinnerList&&e.dinnerList.length))}),null)}function w(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-dinners",[],null,null,null,k,N)),t["ɵdid"](1,114688,null,0,y,[v.a,D.a,C.a,d.n,b.a,t.ChangeDetectorRef],null,null)],(function(n,l){n(l,1,0)}),null)}var F=t["ɵccf"]("app-dinners",y,w,{},{},[]),M=e("gIcY"),T=function(){return e.e(107).then(e.bind(null,"eEW1")).then((function(n){return n.CreateDinnerPageModuleNgFactory}))},V=function(){return e.e(108).then(e.bind(null,"+q2n")).then((function(n){return n.DinnerDetailPageModuleNgFactory}))},O=function(){return Promise.all([e.e(3),e.e(109)]).then(e.bind(null,"TApb")).then((function(n){return n.DinnerEventPageModuleNgFactory}))},A=function(){return Promise.all([e.e(3),e.e(110)]).then(e.bind(null,"F/Pw")).then((function(n){return n.DinnerPhasesPageModuleNgFactory}))},_=function(){return Promise.all([e.e(3),e.e(111)]).then(e.bind(null,"gNJg")).then((function(n){return n.DinnerVotesPageModuleNgFactory}))},z=function(){return function(){}}(),q=e("RnAK"),j=e("E9nr");e.d(l,"DinnersPageModuleNgFactory",(function(){return J}));var J=t["ɵcmf"](u,[],(function(n){return t["ɵmod"]([t["ɵmpd"](512,t.ComponentFactoryResolver,t["ɵCodegenComponentFactoryResolver"],[[8,[i.a,F]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["ɵmpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[t.LOCALE_ID,[2,a["ɵangular_packages_common_common_a"]]]),t["ɵmpd"](4608,M.l,M.l,[]),t["ɵmpd"](4608,o.b,o.b,[t.NgZone,t.ApplicationRef]),t["ɵmpd"](4608,o.Db,o.Db,[o.b,t.ComponentFactoryResolver,t.Injector]),t["ɵmpd"](4608,o.Gb,o.Gb,[o.b,t.ComponentFactoryResolver,t.Injector]),t["ɵmpd"](1073742336,a.CommonModule,a.CommonModule,[]),t["ɵmpd"](1073742336,M.k,M.k,[]),t["ɵmpd"](1073742336,M.b,M.b,[]),t["ɵmpd"](1073742336,o.Ab,o.Ab,[]),t["ɵmpd"](1073742336,d.p,d.p,[[2,d.u],[2,d.n]]),t["ɵmpd"](1073742336,z,z,[]),t["ɵmpd"](1073742336,q.a,q.a,[]),t["ɵmpd"](1073742336,j.a,j.a,[]),t["ɵmpd"](1073742336,u,u,[]),t["ɵmpd"](1024,d.l,(function(){return[[{path:"",component:y},{path:"create-dinner",loadChildren:T},{path:"dinner-detail",loadChildren:V},{path:"dinner-event",loadChildren:O},{path:"dinner-phases",loadChildren:A},{path:"dinner-votes",loadChildren:_}]]}),[])])}))}}]);