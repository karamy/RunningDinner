(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{zwlN:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),i=function(){return function(){}}(),u=e("pMnS"),r=e("MKJQ"),o=e("jy/b"),d=e("ZYCi"),a=e("Ip0R"),c=e("gEl6"),s=e("LKrI"),f=e("L0Zc"),g=e("9B5/"),p=e("yzu5"),m=function(){function n(){this.filterType=0,this.filter=new t.EventEmitter,this.slideOpts={slidesPerView:3,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}}}return n.prototype.ngOnInit=function(){},n.prototype.setFilter=function(n){this.filterType=this.filterType!==n?n:0,this.filter.emit(this.filterType)},n}(),h=t["ɵcrt"]({encapsulation:0,styles:[["ion-card[_ngcontent-%COMP%]{width:100%;border-radius:15%}.filter-name[_ngcontent-%COMP%]{padding:10%;margin:10% 0;font-size:20px;font-weight:700}.not-selected[_ngcontent-%COMP%]{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.italiano[_ngcontent-%COMP%]{background-color:#f0cf85}.pesce[_ngcontent-%COMP%]{background-color:#a6dcef}.vegan[_ngcontent-%COMP%]{background-color:#89c9b8}.sushi[_ngcontent-%COMP%]{background-color:#fabea7}"]],data:{}});function b(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,25,"ion-slides",[],null,null,null,r.zb,r.J)),t["ɵdid"](1,49152,null,0,o.nb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{options:[0,"options"]},null),(n()(),t["ɵeld"](2,0,null,0,5,"ion-slide",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.setFilter(1)&&t),t}),r.yb,r.I)),t["ɵdid"](3,49152,null,0,o.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](4,0,null,0,3,"ion-card",[["class","italiano"]],[[2,"not-selected",null]],null,null,r.Y,r.f)),t["ɵdid"](5,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](6,0,null,0,1,"h1",[["class","filter-name"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Italiano"])),(n()(),t["ɵeld"](8,0,null,0,5,"ion-slide",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.setFilter(2)&&t),t}),r.yb,r.I)),t["ɵdid"](9,49152,null,0,o.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](10,0,null,0,3,"ion-card",[["class","pesce"]],[[2,"not-selected",null]],null,null,r.Y,r.f)),t["ɵdid"](11,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](12,0,null,0,1,"h1",[["class","filter-name"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Pesce"])),(n()(),t["ɵeld"](14,0,null,0,5,"ion-slide",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.setFilter(3)&&t),t}),r.yb,r.I)),t["ɵdid"](15,49152,null,0,o.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](16,0,null,0,3,"ion-card",[["class","vegan"]],[[2,"not-selected",null]],null,null,r.Y,r.f)),t["ɵdid"](17,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](18,0,null,0,1,"h1",[["class","filter-name"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Vegan"])),(n()(),t["ɵeld"](20,0,null,0,5,"ion-slide",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.setFilter(4)&&t),t}),r.yb,r.I)),t["ɵdid"](21,49152,null,0,o.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](22,0,null,0,3,"ion-card",[["class","sushi"]],[[2,"not-selected",null]],null,null,r.Y,r.f)),t["ɵdid"](23,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](24,0,null,0,1,"h1",[["class","filter-name"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Sushi"]))],(function(n,l){n(l,1,0,l.component.slideOpts)}),(function(n,l){var e=l.component;n(l,4,0,e.filterType>1),n(l,10,0,0!==e.filterType&&2!==e.filterType),n(l,16,0,0!==e.filterType&&3!==e.filterType),n(l,22,0,0!==e.filterType&&4!==e.filterType)}))}var R=e("mrSG"),C=e("rrMi"),v=function(){function n(n,l,e,t,i){this.paramsService=n,this.route=l,this.alertController=e,this.dinnersService=t,this.ref=i,this.dinnerList=[],this.filterType=0,this.index=0}return n.prototype.ngOnInit=function(){var n=this;this.route.queryParams.subscribe((function(l){n.message=l.message,n.message&&n.presentAlert(n.message)})),this.loadDinners(null,!1,"",!1)},n.prototype.loadDinners=function(n,l,e,t){var i=this;this.paramsService.loadParams(l).then((function(){"infinite"===e?i.index=i.index+10:(i.dinnerList=[],i.index=0),i.dinnersService.getOtherDinners(i.paramsService.getParams().dinnerId||0,l,i.index,i.filterType,t).then((function(l){for(var e=0;e<l.length;e++)i.dinnerList.push(l[e]);for(e=0;e<i.dinnerList.length;e++){var t=i.dinnersService.formatDate(i.dinnerList[e].date);i.dinnerList[e].dateString=t[0],i.dinnerList[e].time=Number(t[1])}n&&n.target.complete(),i.infiniteScroll.disabled=0===l.length,i.ref.detectChanges()}),(function(n){console.warn(n)}))}))},n.prototype.goToDinner=function(n){var l=this;this.dinnersService.getDinnerState(n.id).then((function(e){var t=e.dinner_state;console.log("Dinner State: "+t),l.dinnersService.detDinnerStateRoute(n,t,"dinners")}))},n.prototype.presentAlert=function(n){return R.__awaiter(this,void 0,void 0,(function(){return R.__generator(this,(function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Attenzione!",message:n,buttons:["OK"]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}}))}))},n.prototype.setFilter=function(n){this.filterType=n,this.loadDinners(null,!0,"",!0)},n}(),y=t["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function D(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,5,"ion-button",[["routerLink","/home/tabs/dinners/create-dinner"]],null,[[null,"click"]],(function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t["ɵnov"](n,2).onClick()&&i),"click"===l&&(i=!1!==t["ɵnov"](n,3).onClick(e)&&i),i}),r.T,r.d)),t["ɵdid"](1,49152,null,0,o.j,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),t["ɵdid"](2,16384,null,0,d.o,[d.n,d.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["ɵdid"](3,737280,null,0,o.Hb,[a.LocationStrategy,o.Eb,t.ElementRef,d.n,[2,d.o]],null,null),(n()(),t["ɵeld"](4,0,null,0,1,"ion-icon",[["name","add"],["slot","icon-only"]],null,null,null,r.fb,r.p)),t["ɵdid"](5,49152,null,0,o.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],(function(n,l){n(l,2,0,"/home/tabs/dinners/create-dinner"),n(l,3,0),n(l,5,0,"add")}),null)}function N(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"div",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.goToDinner(n.context.$implicit)&&t),t}),null,null)),(n()(),t["ɵeld"](1,0,null,null,1,"rd-dinner",[],null,null,null,c.b,c.a)),t["ɵdid"](2,114688,null,0,s.a,[],{dinner:[0,"dinner"]},null)],(function(n,l){n(l,2,0,l.context.$implicit)}),null)}function E(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,"ion-list",[],null,null,null,r.pb,r.z)),t["ɵdid"](1,49152,null,0,o.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵand"](16777216,null,0,1,null,N)),t["ɵdid"](3,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,3,0,l.component.dinnerList)}),null)}function I(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,2,"ion-card",[],null,null,null,r.Y,r.f)),t["ɵdid"](2,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵted"](-1,0,[" Non sono presenti cene attive in questo momento :( "]))],null,null)}function k(n){return t["ɵvid"](0,[t["ɵqud"](671088640,1,{infiniteScroll:0}),(n()(),t["ɵeld"](1,0,null,null,12,"ion-header",[],null,null,null,r.eb,r.o)),t["ɵdid"](2,49152,null,0,o.A,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](3,0,null,0,10,"ion-toolbar",[],null,null,null,r.Fb,r.P)),t["ɵdid"](4,49152,null,0,o.yb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](5,0,null,0,2,"ion-title",[],null,null,null,r.Eb,r.O)),t["ɵdid"](6,49152,null,0,o.wb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵted"](-1,0,["Elenco Cene"])),(n()(),t["ɵeld"](8,0,null,0,5,"ion-buttons",[["slot","primary"]],null,null,null,r.U,r.e)),t["ɵdid"](9,49152,null,0,o.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](10,0,null,0,1,"rd-profile",[],null,null,null,f.b,f.a)),t["ɵdid"](11,114688,null,0,g.a,[p.a],null,null),(n()(),t["ɵand"](16777216,null,0,1,null,D)),t["ɵdid"](13,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](14,0,null,null,15,"ion-content",[["class","padding"]],null,null,null,r.ab,r.k)),t["ɵdid"](15,49152,null,0,o.t,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](16,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,l,e){var t=!0;return"ionRefresh"===l&&(t=!1!==n.component.loadDinners(e,!0,"",!1)&&t),t}),r.sb,r.B)),t["ɵdid"](17,49152,null,0,o.Z,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](18,0,null,0,1,"ion-refresher-content",[["pullingIcon","lines"],["refreshingSpinner","lines"]],null,null,null,r.rb,r.C)),t["ɵdid"](19,49152,null,0,o.ab,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{pullingIcon:[0,"pullingIcon"],refreshingSpinner:[1,"refreshingSpinner"]},null),(n()(),t["ɵeld"](20,0,null,0,1,"app-slider-filters",[],null,[[null,"filter"]],(function(n,l,e){var t=!0;return"filter"===l&&(t=!1!==n.component.setFilter(e)&&t),t}),b,h)),t["ɵdid"](21,114688,null,0,m,[],null,{filter:"filter"}),(n()(),t["ɵand"](16777216,null,0,1,null,E)),t["ɵdid"](23,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵand"](16777216,null,0,1,null,I)),t["ɵdid"](25,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](26,0,null,0,3,"ion-infinite-scroll",[["threshold","5%"]],null,[[null,"ionInfinite"]],(function(n,l,e){var t=!0;return"ionInfinite"===l&&(t=!1!==n.component.loadDinners(e,!0,"infinite",!1)&&t),t}),r.ib,r.r)),t["ɵdid"](27,49152,[[1,4]],0,o.D,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{threshold:[0,"threshold"]},null),(n()(),t["ɵeld"](28,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Carico altre cene..."]],null,null,null,r.hb,r.s)),t["ɵdid"](29,49152,null,0,o.E,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(n,l){var e=l.component;n(l,11,0),n(l,13,0,e.paramsService.getParams().groupId&&!e.paramsService.getParams().dinnerId),n(l,19,0,"lines","lines"),n(l,21,0),n(l,23,0,e.dinnerList&&e.dinnerList.length>0),n(l,25,0,!e.dinnerList||!e.dinnerList.length),n(l,27,0,"5%"),n(l,29,0,"bubbles","Carico altre cene...")}),null)}function S(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-dinners",[],null,null,null,k,y)),t["ɵdid"](1,114688,null,0,v,[p.a,d.a,o.a,C.a,t.ChangeDetectorRef],null,null)],(function(n,l){n(l,1,0)}),null)}var Z=t["ɵccf"]("app-dinners",v,S,{},{},[]),T=e("gIcY"),L=function(){return e.e(105).then(e.bind(null,"eEW1")).then((function(n){return n.CreateDinnerPageModuleNgFactory}))},w=function(){return e.e(6).then(e.bind(null,"CWoH")).then((function(n){return n.DinnerDetailPageModuleNgFactory}))},F=function(){return function(){}}(),O=e("RnAK"),P=e("E9nr");e.d(l,"DinnersPageModuleNgFactory",(function(){return _}));var _=t["ɵcmf"](i,[],(function(n){return t["ɵmod"]([t["ɵmpd"](512,t.ComponentFactoryResolver,t["ɵCodegenComponentFactoryResolver"],[[8,[u.a,Z]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["ɵmpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[t.LOCALE_ID,[2,a["ɵangular_packages_common_common_a"]]]),t["ɵmpd"](4608,T.l,T.l,[]),t["ɵmpd"](4608,o.b,o.b,[t.NgZone,t.ApplicationRef]),t["ɵmpd"](4608,o.Db,o.Db,[o.b,t.ComponentFactoryResolver,t.Injector]),t["ɵmpd"](4608,o.Gb,o.Gb,[o.b,t.ComponentFactoryResolver,t.Injector]),t["ɵmpd"](1073742336,a.CommonModule,a.CommonModule,[]),t["ɵmpd"](1073742336,T.k,T.k,[]),t["ɵmpd"](1073742336,T.b,T.b,[]),t["ɵmpd"](1073742336,o.Ab,o.Ab,[]),t["ɵmpd"](1073742336,d.p,d.p,[[2,d.u],[2,d.n]]),t["ɵmpd"](1073742336,F,F,[]),t["ɵmpd"](1073742336,O.a,O.a,[]),t["ɵmpd"](1073742336,P.a,P.a,[]),t["ɵmpd"](1073742336,i,i,[]),t["ɵmpd"](1024,d.l,(function(){return[[{path:"",component:v},{path:"create-dinner",loadChildren:L},{path:"dinner-detail",loadChildren:w}]]}),[])])}))}}]);