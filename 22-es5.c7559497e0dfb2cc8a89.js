(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{QJOm:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class o{}var e=t("pMnS"),i=t("MKJQ"),c=t("sZkV"),r=t("L0Zc"),s=t("9B5/"),a=t("yzu5"),b=t("SVse"),p=t("mrSG"),h=t("iO+n"),m=t("8ld7"),f=t("DP//");class d{constructor(l,n,t){this.modalController=l,this.contactsService=n,this.spinner=t,this.contactList=[]}showContact(l,n,t){return p.__awaiter(this,void 0,void 0,(function*(){const u=yield this.modalController.create({component:h.a,swipeToClose:!0,backdropDismiss:!0,componentProps:{contactName:l,contactImage:n,contactId:t},cssClass:"modal-style"});return yield u.present()}))}ngOnInit(){this.spinner.create("Caricando Contatti..."),this.fetchContacts().finally(()=>{this.spinner.dismiss()})}fetchContacts(){return new Promise((l,n)=>{this.contactsService.getLocalContacts(!0).then(t=>{this.contactsService.postContacts(t).then(n=>{this.contactList=this.contactsService.compareContacts(n,t),l()},()=>{console.error("Impossibile inviare contatti al server"),n()})},()=>{console.error("Impossibile leggere contatti dal dispositivo"),n()})})}doRefresh(l){this.fetchContacts().finally(()=>{l.target.complete()})}}var g=u.nb({encapsulation:0,styles:[[""]],data:{}});function v(l){return u.Gb(0,[(l()(),u.pb(0,0,null,null,6,"ion-item",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.showContact(l.context.$implicit.name,l.context.$implicit.imageUrl,l.context.$implicit.userId)&&u),u}),i.U,i.p)),u.ob(1,49152,null,0,c.G,[u.h,u.k,u.x],null,null),(l()(),u.pb(2,0,null,0,2,"ion-avatar",[],null,null,null,i.G,i.b)),u.ob(3,49152,null,0,c.e,[u.h,u.k,u.x],null,null),(l()(),u.pb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),u.pb(5,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),u.Fb(6,null,["",""]))],null,(function(l,n){l(n,4,0,n.context.$implicit.imageUrl),l(n,6,0,n.context.$implicit.name)}))}function k(l){return u.Gb(0,[(l()(),u.pb(0,0,null,null,10,"ion-header",[],null,null,null,i.Q,i.l)),u.ob(1,49152,null,0,c.A,[u.h,u.k,u.x],null,null),(l()(),u.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,i.jb,i.E)),u.ob(3,49152,null,0,c.yb,[u.h,u.k,u.x],null,null),(l()(),u.pb(4,0,null,0,2,"ion-title",[],null,null,null,i.ib,i.D)),u.ob(5,49152,null,0,c.wb,[u.h,u.k,u.x],null,null),(l()(),u.Fb(-1,0,["contacts"])),(l()(),u.pb(7,0,null,0,3,"ion-buttons",[["slot","primary"]],null,null,null,i.J,i.e)),u.ob(8,49152,null,0,c.k,[u.h,u.k,u.x],null,null),(l()(),u.pb(9,0,null,0,1,"rd-profile",[],null,null,null,r.b,r.a)),u.ob(10,114688,null,0,s.a,[a.a],null,null),(l()(),u.pb(11,0,null,null,9,"ion-content",[],null,null,null,i.M,i.h)),u.ob(12,49152,null,0,c.t,[u.h,u.k,u.x],null,null),(l()(),u.pb(13,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,t){var u=!0;return"ionRefresh"===n&&(u=!1!==l.component.doRefresh(t)&&u),u}),i.Y,i.s)),u.ob(14,49152,null,0,c.Z,[u.h,u.k,u.x],null,null),(l()(),u.pb(15,0,null,0,1,"ion-refresher-content",[["pullingIcon","lines"],["refreshingSpinner","lines"]],null,null,null,i.X,i.t)),u.ob(16,49152,null,0,c.ab,[u.h,u.k,u.x],{pullingIcon:[0,"pullingIcon"],refreshingSpinner:[1,"refreshingSpinner"]},null),(l()(),u.pb(17,0,null,0,3,"ion-list",[],null,null,null,i.W,i.r)),u.ob(18,49152,null,0,c.N,[u.h,u.k,u.x],null,null),(l()(),u.eb(16777216,null,0,1,null,v)),u.ob(20,278528,null,0,b.h,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,10,0),l(n,16,0,"lines","lines"),l(n,20,0,t.contactList)}),null)}var x=u.lb("app-contacts",d,(function(l){return u.Gb(0,[(l()(),u.pb(0,0,null,null,1,"app-contacts",[],null,null,null,k,g)),u.ob(1,114688,null,0,d,[c.Db,m.a,f.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),z=t("s7LF"),C=t("iInd");class w{}var y=t("E9nr");t.d(n,"ContactsPageModuleNgFactory",(function(){return I}));var I=u.mb(o,[],(function(l){return u.yb([u.zb(512,u.j,u.X,[[8,[e.a,x]],[3,u.j],u.v]),u.zb(4608,b.k,b.j,[u.s,[2,b.q]]),u.zb(4608,z.i,z.i,[]),u.zb(4608,c.b,c.b,[u.x,u.g]),u.zb(4608,c.Db,c.Db,[c.b,u.j,u.p]),u.zb(4608,c.Gb,c.Gb,[c.b,u.j,u.p]),u.zb(1073742336,b.b,b.b,[]),u.zb(1073742336,z.h,z.h,[]),u.zb(1073742336,z.a,z.a,[]),u.zb(1073742336,c.Ab,c.Ab,[]),u.zb(1073742336,C.o,C.o,[[2,C.t],[2,C.m]]),u.zb(1073742336,w,w,[]),u.zb(1073742336,y.a,y.a,[]),u.zb(1073742336,o,o,[]),u.zb(1024,C.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);