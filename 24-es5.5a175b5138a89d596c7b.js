(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{QJOm:function(l,n,t){"use strict";t.r(n);var o=t("8Y7J");class u{}var e=t("pMnS"),i=t("MKJQ"),c=t("sZkV"),r=t("iInd"),s=t("SVse"),a=t("mrSG"),b=t("q/sB"),p=t("8ld7"),h=t("DP//");class m{constructor(l,n,t){this.modalController=l,this.contactsService=n,this.spinner=t,this.contactList=[]}showContact(l,n,t){return a.__awaiter(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:b.a,swipeToClose:!0,backdropDismiss:!0,componentProps:{contactName:l,contactImage:n,contactId:t},cssClass:"modal-style"});return yield o.present()}))}ngOnInit(){this.spinner.create("Caricando Contatti..."),this.fetchContacts().finally(()=>{this.spinner.dismiss()})}fetchContacts(){return new Promise((l,n)=>{this.contactsService.getLocalContacts(!0).then(t=>{this.contactsService.postContacts(t).then(n=>{this.contactList=this.contactsService.compareContacts(n,t),l()},()=>{console.error("Impossibile inviare contatti al server"),n()})},()=>{console.error("Impossibile leggere contatti dal dispositivo"),n()})})}doRefresh(l){this.fetchContacts().finally(()=>{l.target.complete()})}}var f=o.nb({encapsulation:0,styles:[[""]],data:{}});function d(l){return o.Gb(0,[(l()(),o.pb(0,0,null,null,6,"ion-item",[],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.showContact(l.context.$implicit.name,l.context.$implicit.imageUrl,l.context.$implicit.userId)&&o),o}),i.U,i.p)),o.ob(1,49152,null,0,c.G,[o.h,o.k,o.x],null,null),(l()(),o.pb(2,0,null,0,2,"ion-avatar",[],null,null,null,i.G,i.b)),o.ob(3,49152,null,0,c.e,[o.h,o.k,o.x],null,null),(l()(),o.pb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),o.pb(5,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),o.Fb(6,null,["",""]))],null,(function(l,n){l(n,4,0,n.context.$implicit.imageUrl),l(n,6,0,n.context.$implicit.name)}))}function k(l){return o.Gb(0,[(l()(),o.pb(0,0,null,null,14,"ion-header",[],null,null,null,i.Q,i.l)),o.ob(1,49152,null,0,c.A,[o.h,o.k,o.x],null,null),(l()(),o.pb(2,0,null,0,12,"ion-toolbar",[],null,null,null,i.jb,i.E)),o.ob(3,49152,null,0,c.yb,[o.h,o.k,o.x],null,null),(l()(),o.pb(4,0,null,0,2,"ion-title",[],null,null,null,i.ib,i.D)),o.ob(5,49152,null,0,c.wb,[o.h,o.k,o.x],null,null),(l()(),o.Fb(-1,0,["contacts"])),(l()(),o.pb(7,0,null,0,7,"ion-buttons",[["slot","primary"]],null,null,null,i.J,i.e)),o.ob(8,49152,null,0,c.k,[o.h,o.k,o.x],null,null),(l()(),o.pb(9,0,null,0,5,"ion-button",[["routerLink","/home/profile"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==o.Bb(l,11).onClick()&&u),"click"===n&&(u=!1!==o.Bb(l,12).onClick(t)&&u),u}),i.I,i.d)),o.ob(10,49152,null,0,c.j,[o.h,o.k,o.x],null,null),o.ob(11,16384,null,0,r.n,[r.m,r.a,[8,null],o.B,o.k],{routerLink:[0,"routerLink"]},null),o.ob(12,737280,null,0,c.Hb,[s.g,c.Eb,o.k,r.m,[2,r.n]],null,null),(l()(),o.pb(13,0,null,0,1,"ion-icon",[["name","person-circle-outline"],["slot","icon-only"]],null,null,null,i.R,i.m)),o.ob(14,49152,null,0,c.B,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.pb(15,0,null,null,9,"ion-content",[],null,null,null,i.M,i.h)),o.ob(16,49152,null,0,c.t,[o.h,o.k,o.x],null,null),(l()(),o.pb(17,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,t){var o=!0;return"ionRefresh"===n&&(o=!1!==l.component.doRefresh(t)&&o),o}),i.Y,i.s)),o.ob(18,49152,null,0,c.Z,[o.h,o.k,o.x],null,null),(l()(),o.pb(19,0,null,0,1,"ion-refresher-content",[["pullingIcon","lines"],["refreshingSpinner","lines"]],null,null,null,i.X,i.t)),o.ob(20,49152,null,0,c.ab,[o.h,o.k,o.x],{pullingIcon:[0,"pullingIcon"],refreshingSpinner:[1,"refreshingSpinner"]},null),(l()(),o.pb(21,0,null,0,3,"ion-list",[],null,null,null,i.W,i.r)),o.ob(22,49152,null,0,c.N,[o.h,o.k,o.x],null,null),(l()(),o.eb(16777216,null,0,1,null,d)),o.ob(24,278528,null,0,s.h,[o.M,o.J,o.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,11,0,"/home/profile"),l(n,12,0),l(n,14,0,"person-circle-outline"),l(n,20,0,"lines","lines"),l(n,24,0,t.contactList)}),null)}var g=o.lb("app-contacts",m,(function(l){return o.Gb(0,[(l()(),o.pb(0,0,null,null,1,"app-contacts",[],null,null,null,k,f)),o.ob(1,114688,null,0,m,[c.Db,p.a,h.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),v=t("s7LF");const x=()=>t.e(23).then(t.bind(null,"BixF")).then(l=>l.ContactsDetailPageModuleNgFactory);class C{}t.d(n,"ContactsPageModuleNgFactory",(function(){return z}));var z=o.mb(u,[],(function(l){return o.yb([o.zb(512,o.j,o.X,[[8,[e.a,g]],[3,o.j],o.v]),o.zb(4608,s.k,s.j,[o.s,[2,s.q]]),o.zb(4608,v.i,v.i,[]),o.zb(4608,c.b,c.b,[o.x,o.g]),o.zb(4608,c.Db,c.Db,[c.b,o.j,o.p]),o.zb(4608,c.Gb,c.Gb,[c.b,o.j,o.p]),o.zb(1073742336,s.b,s.b,[]),o.zb(1073742336,v.h,v.h,[]),o.zb(1073742336,v.a,v.a,[]),o.zb(1073742336,c.Ab,c.Ab,[]),o.zb(1073742336,r.o,r.o,[[2,r.t],[2,r.m]]),o.zb(1073742336,C,C,[]),o.zb(1073742336,u,u,[]),o.zb(1024,r.k,(function(){return[[{path:"",component:m},{path:"contacts-detail",loadChildren:x}]]}),[])])}))}}]);